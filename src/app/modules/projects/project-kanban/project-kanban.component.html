<div class="kanban-container">

  <!-- Pendientes -->
  <div class="kanban-column"
       cdkDropList
       id="pendientes-list"
       [cdkDropListData]="pendientes"
       [cdkDropListConnectedTo]="connectedLists"
       (cdkDropListDropped)="drop($event)">
    <h3>Pendientes</h3>
    <div class="kanban-card" 
         *ngFor="let tarea of pendientes; trackBy: trackById" 
         cdkDrag
         (click)="abrirDetalleTarea(tarea.id)">
      <span>{{ tarea.descripcion }}</span>
      <button mat-icon-button color="warn" 
              (click)="eliminarTarea(tarea, 0); $event.stopPropagation()">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>

  <!-- Listas -->
  <div class="kanban-column"
       cdkDropList
       id="listas-list"
       [cdkDropListData]="listas"
       [cdkDropListConnectedTo]="connectedLists"
       (cdkDropListDropped)="drop($event)">
    <h3>Listas</h3>
    <div class="kanban-card" 
         *ngFor="let tarea of listas; trackBy: trackById" 
         cdkDrag
         (click)="abrirDetalleTarea(tarea.id)">
      <span>{{ tarea.descripcion }}</span>
      <button mat-icon-button color="warn" 
              (click)="eliminarTarea(tarea, 1); $event.stopPropagation()">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>

  <!-- En Proceso -->
  <div class="kanban-column"
       cdkDropList
       id="enproceso-list"
       [cdkDropListData]="enProceso"
       [cdkDropListConnectedTo]="connectedLists"
       (cdkDropListDropped)="drop($event)">
    <h3>En Proceso</h3>
    <div class="kanban-card" 
         *ngFor="let tarea of enProceso; trackBy: trackById" 
         cdkDrag
         (click)="abrirDetalleTarea(tarea.id)">
      <span>{{ tarea.descripcion }}</span>
      <button mat-icon-button color="warn" 
              (click)="eliminarTarea(tarea, 2); $event.stopPropagation()">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>

  <!-- Finalizadas -->
  <div class="kanban-column"
       cdkDropList
       id="finalizadas-list"
       [cdkDropListData]="finalizadas"
       [cdkDropListConnectedTo]="connectedLists"
       (cdkDropListDropped)="drop($event)">
    <h3>Finalizadas</h3>
    <div class="kanban-card" 
         *ngFor="let tarea of finalizadas; trackBy: trackById" 
         cdkDrag
         (click)="abrirDetalleTarea(tarea.id)">
      <span>{{ tarea.descripcion }}</span>
      <button mat-icon-button color="warn" 
              (click)="eliminarTarea(tarea, 3); $event.stopPropagation()">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>

  <!-- Inconclusas -->
  <div class="kanban-column"
       cdkDropList
       id="inconclusas-list"
       [cdkDropListData]="inconclusas"
       [cdkDropListConnectedTo]="connectedLists"
       (cdkDropListDropped)="drop($event)">
    <h3>Inconclusas</h3>
    <div class="kanban-card" 
         *ngFor="let tarea of inconclusas; trackBy: trackById" 
         cdkDrag
         (click)="abrirDetalleTarea(tarea.id)">
      <span>{{ tarea.descripcion }}</span>
      <button mat-icon-button color="warn" 
              (click)="eliminarTarea(tarea, 4); $event.stopPropagation()">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>

</div>

<!-- FAB para nueva tarea -->
<div class="bottom-actions">
  <button mat-fab color="primary" (click)="abrirModalTarea()" aria-label="Nueva tarea">
    <mat-icon>add</mat-icon>
</button>
<button mat-fab color="accent" (click)="abrirAsignadosModal()" aria-label="Colaboradores" style="margin-left: 12px;">
  <mat-icon>group</mat-icon>
</button>
  
</div>
